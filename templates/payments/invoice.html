{# templates/payments/invoice.html #}
{% extends "base.html" %}
{% load static %}
{% block title %}Invoice #{{ payment.id }}{% endblock %}
{% block content %}
<div class="container my-5">
  <div class="card p-4">
    <div class="row">
      <div class="col-md-6">
        <h3>Invoice #{{ payment.id }}</h3>
        <p><strong>Date:</strong> {{ payment.created_at|date:"d M, Y H:i" }}</p>
      </div>
      <div class="col-md-6 text-end">
        <img src="{% static 'images/logo.png' %}" alt="Logo" style="height:48px;">
      </div>
    </div>

    <hr>

    <div class="row mb-4">
      <div class="col-md-6">
        <h6>Bill To</h6>
        <p>{{ payment.user.get_full_name|default:payment.user.username }}<br>{{ payment.user.email }}</p>
      </div>
      <div class="col-md-6 text-end">
        <h6>Payment Details</h6>
        <p>Provider: {{ payment.provider }}<br>Transaction ID: {{ payment.provider_tx_id }}</p>
      </div>
    </div>

    <table class="table">
      <thead>
        <tr><th>Description</th><th class="text-end">Amount</th></tr>
      </thead>
      <tbody>
        <tr>
          <td>Course: {{ payment.course.title }}</td>
          <td class="text-end">${{ payment.amount }}</td>
        </tr>
        <tr>
          <td><strong>Total</strong></td>
          <td class="text-end"><strong>${{ payment.amount }}</strong></td>
        </tr>
      </tbody>
    </table>

    <div class="mt-4 text-muted">
      <small>Note: {{ payment.note }}</small>
    </div>
  </div>
</div>
{% endblock %}
