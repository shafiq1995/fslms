{% extends 'base.html' %}{% load static %}{% block title %}Home - Future Skill{% endblock %}{% block content %}

<!-- Hero Section -->
<section class="hero-section" id="home">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-6 hero-content">
        <h1 class="display-4 fw-bold mb-4">
          Learn from Industry Experts with Live Sessions
        </h1>
        <p class="lead mb-4">
          Join {{ stats.students|default:"thousands of" }} students mastering new skills through our interactive learning platform with live classes and course tracking.
        </p>

        <div class="d-flex flex-wrap gap-3">
          {% if user.is_authenticated %}
            <a href="{% url 'student_tool:dashboard' %}" class="btn btn-warning btn-lg px-4 py-3">
              <i class="bi bi-speedometer2 me-2"></i>Go to Dashboard
            </a>
          {% else %}
            <a href="{% url 'roleselection:roleselection' %}" class="btn btn-warning btn-lg px-4 py-3">
              <i class="bi bi-rocket-takeoff me-2"></i>Start Learning Free
            </a>
          {% endif %}
          <a href="#courses" class="btn btn-outline-light btn-lg px-4 py-3">
            <i class="bi bi-play-circle me-2"></i>Browse Courses
          </a>
        </div>

        <div class="row mt-5 pt-4">
          <div class="col-4">
            <h3 class="fw-bold">{{ stats.students|default:"10K+" }}</h3>
            <p class="mb-0">Students</p>
          </div>
          <div class="col-4">
            <h3 class="fw-bold">{{ stats.courses|default:"500+" }}</h3>
            <p class="mb-0">Courses</p>
          </div>
          <div class="col-4">
            <h3 class="fw-bold">{{ stats.instructors|default:"200+" }}</h3>
            <p class="mb-0">Instructors</p>
          </div>
        </div>
      </div>

      <div class="col-lg-6 text-center">
        <div class="position-relative floating">
          <img src="{% static 'images/hero-learning.jpg' %}" class="img-fluid rounded-3 shadow-lg" alt="Online Learning">
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Dynamic Courses Section -->
<section class="py-5 bg-light" id="courses">
  <div class="container">
    <div class="row justify-content-center mb-5">
      <div class="col-lg-8 text-center">
        <h2 class="display-5 fw-bold mb-3">Popular Courses</h2>
        <p class="lead text-muted">Explore our most enrolled courses taught by industry experts</p>
      </div>
    </div>

    <div class="row g-4">
      {% for course in courses %}
      <div class="col-md-6 col-lg-4">
        <div class="course-card card shadow-sm">
          <div class="position-relative">
            {% if course.thumbnail %}
              <img src="{{ course.thumbnail.url }}" class="card-img-top" alt="{{ course.title }}">
            {% else %}
              <img src="{% static 'images/default_course.jpg' %}" class="card-img-top" alt="{{ course.title }}">
            {% endif %}
            {% if course.is_featured %}
              <span class="course-badge badge bg-warning">Featured</span>
            {% endif %}
          </div>
          <div class="card-body">
            <h5 class="card-title">{{ course.title }}</h5>
            <p class="card-text text-muted">{{ course.short_description|truncatewords:20 }}</p>
            <div class="d-flex justify-content-between align-items-center">
              <div class="d-flex align-items-center">
                <small>{{ course.instructor.get_full_name|default:course.instructor.username }}</small>
              </div>
              <h6 class="text-primary mb-0">&#2547;{{ course.price|default:"0" }}</h6>
            </div>
          </div>
        </div>
      </div>
      {% empty %}
      <p class="text-center text-muted">No courses available at the moment.</p>
      {% endfor %}
    </div>

    <div class="text-center mt-5">
      <a href="{% url 'courses:course_list' %}" class="btn btn-outline-primary btn-lg">View All Courses</a>
    </div>
  </div>
</section>

<!-- Blog Section -->
<section class="py-5" id="blog">
  <div class="container">
    <div class="row justify-content-center mb-5">
      <div class="col-lg-8 text-center">
        <h2 class="display-5 fw-bold mb-3">Latest from Our Blog</h2>
        <p class="lead text-muted">Stay updated with the latest trends, tips, and insights</p>
      </div>
    </div>

    <div class="row g-4">
      {% for post in blogs %}
      <div class="col-md-6 col-lg-4">
        <div class="blog-card card shadow-sm">
          <div class="position-relative">
            {% if post.image %}
              <img src="{{ post.image.url }}" class="card-img-top" alt="{{ post.title }}">
            {% else %}
              <img src="{% static 'images/default-blog.jpg' %}" class="card-img-top" alt="{{ post.title }}">
            {% endif %}
          </div>
          <div class="card-body">
            <div class="blog-date mb-2">
              <i class="bi bi-calendar me-1"></i> {{ post.published_at|date:"F d, Y" }}
            </div>
            <h5 class="card-title">{{ post.title }}</h5>
            <p class="card-text text-muted">{{ post.excerpt|truncatewords:20 }}</p>
            <a href="{% url 'blog:detail' post.slug %}" class="btn btn-link text-primary text-decoration-none p-0">
              Read More <i class="bi bi-arrow-right ms-1"></i>
            </a>
          </div>
        </div>
      </div>
      {% empty %}
      <p class="text-center text-muted">No blog posts available.</p>
      {% endfor %}
    </div>
  </div>
</section>

<!-- Meet Our Instructors -->
<section class="py-5 bg-light" id="instructors">
  <div class="container">
    <div class="row justify-content-center mb-5">
      <div class="col-lg-8 text-center">
        <h2 class="display-5 fw-bold mb-3">Meet Our Instructors</h2>
        <p class="lead text-muted">Real-world practitioners sharing their expertise live and in person.</p>
      </div>
    </div>

    <div class="row g-4">
      {% for instructor in instructors %}
      <div class="col-md-6 col-lg-3">
        <div class="card h-100 shadow-sm border-0 instructor-card">
          <div class="card-body text-center p-4">
            <div class="instructor-avatar mb-3 mx-auto">
              {% if instructor.avatar %}
                <img src="{{ instructor.avatar.url }}" alt="{{ instructor.get_full_name|default:instructor.username }}" class="rounded-circle" width="96" height="96" style="object-fit:cover;">
              {% elif instructor.profile and instructor.profile.profile_picture %}
                <img src="{{ instructor.profile.profile_picture.url }}" alt="{{ instructor.get_full_name|default:instructor.username }}" class="rounded-circle" width="96" height="96" style="object-fit:cover;">
              {% else %}
                <img src="{% static 'images/default instructor image.jpg' %}" alt="{{ instructor.get_full_name|default:instructor.username }}" class="rounded-circle" width="96" height="96" style="object-fit:cover;">
              {% endif %}
            </div>
            <h5 class="fw-bold mb-1">{{ instructor.get_full_name|default:instructor.username }}</h5>
            <p class="text-muted small mb-2">{{ instructor.instructorprofile.professional_title|default:"Instructor" }}</p>
            {% if instructor.instructorprofile.expertise_area %}
              <span class="badge bg-primary-subtle text-primary mb-3">{{ instructor.instructorprofile.expertise_area }}</span>
            {% endif %}
            <div class="d-flex justify-content-center gap-2">
              {% if instructor.instructorprofile.linkedin %}<a href="{{ instructor.instructorprofile.linkedin }}" class="text-muted"><i class="bi bi-linkedin"></i></a>{% endif %}
              {% if instructor.instructorprofile.twitter %}<a href="{{ instructor.instructorprofile.twitter }}" class="text-muted"><i class="bi bi-twitter"></i></a>{% endif %}
              {% if instructor.instructorprofile.website %}<a href="{{ instructor.instructorprofile.website }}" class="text-muted"><i class="bi bi-globe"></i></a>{% endif %}
            </div>
            <a href="{% url 'instructor_tool:detail' instructor.id %}" class="btn btn-outline-primary btn-sm w-100 mt-3">View Profile</a>
          </div>
        </div>
      </div>
      {% empty %}
      <div class="col-12 text-center text-muted">Instructors are being added. Check back soon.</div>
      {% endfor %}
    </div>
  </div>
</section>

<!-- CTA Section -->
<section class="cta-section">
  <div class="container text-center">
    <div class="cta-content">
      <h2 class="display-5 fw-bold mb-4">Ready to Start Your Learning Journey?</h2>
      <p class="lead mb-4">Join thousands of students already transforming their careers with Future Skill.</p>
      {% if not user.is_authenticated %}
      <a href="{% url 'roleselection:roleselection' %}" class="btn btn-warning btn-lg px-5 py-3">
        <i class="bi bi-person-plus me-2"></i>Create Free Account
      </a>
      {% else %}
      <a href="{% url 'student_tool:dashboard' %}" class="btn btn-outline-light btn-lg px-5 py-3">
        <i class="bi bi-speedometer2 me-2"></i>Go to Dashboard
      </a>
      {% endif %}
    </div>
  </div>
</section>
{% endblock %}
